{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/360MoveData/Users/12776/Desktop/nextdemo/blog-platform/src/app/practice/07-async-02/page.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\n\r\ninterface GitHubRepo {\r\n  pushed_at: string;\r\n}\r\n\r\nexport default function Page() {\r\n  const demoRef = useRef<HTMLDivElement>(null);\r\n  const [lastStoryDate, setLastStoryDate] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    // async/await示例\r\n    async function getHomework() {\r\n      await new Promise<void>((resolve) => {\r\n        setTimeout(function () {\r\n          console.log('小丸子说：\"作业写完了！\"');\r\n          resolve();\r\n        }, 2000);\r\n      });\r\n    }\r\n    getHomework().then(\r\n      () => console.log('小丸子说：\"可以去玩了！\"')\r\n    );\r\n    console.log('小丸子说：\"先画一会儿漫画~\"');\r\n\r\n    // 获取最后一个故事的日期\r\n    async function getLastStoryDate(owner: string, repo: string) {\r\n      const url = `https://api.github.com/repos/${owner}/${repo}`;\r\n      try {\r\n        const response = await fetch(url);\r\n        if (!response.ok) {\r\n          throw new Error('获取小丸子的故事失败了...');\r\n        }\r\n        const data = await response.json() as GitHubRepo;\r\n        // pushed_at 字段即为最后一次更新日期\r\n        return new Date(data.pushed_at).toLocaleDateString('zh-CN');\r\n      } catch (error) {\r\n        console.error('获取小丸子的故事失败了:', error);\r\n        return null;\r\n      }\r\n    }\r\n\r\n    getLastStoryDate('yangjh-xbmu', 'Web-develop').then(date => {\r\n      console.log('小丸子的最新故事是在:', date);\r\n      setLastStoryDate(date);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#FFF5E6]\">\r\n      {/* 背景装饰 */}\r\n      <div className=\"fixed inset-0 pointer-events-none\">\r\n        <div className=\"absolute top-0 left-0 w-32 h-32\">\r\n          <Image\r\n            src=\"/practice/images/樱桃小丸子图片生成 (5).png\"\r\n            alt=\"装饰\"\r\n            width={128}\r\n            height={128}\r\n            className=\"opacity-20\"\r\n          />\r\n        </div>\r\n        <div className=\"absolute bottom-0 right-0 w-32 h-32\">\r\n          <Image\r\n            src=\"/practice/images/樱桃小丸子图片生成 (6).png\"\r\n            alt=\"装饰\"\r\n            width={128}\r\n            height={128}\r\n            className=\"opacity-20\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <main className=\"container mx-auto px-4 py-12 relative z-10\">\r\n        <div className=\"relative\">\r\n          <Link href=\"/\" className=\"absolute -top-8 left-0 flex items-center gap-2 text-[#FF6B6B] hover:text-[#FF8585] transition-colors\">\r\n            <span className=\"text-2xl\">←</span>\r\n            <span>回到小丸子的主页</span>\r\n          </Link>\r\n        </div>\r\n\r\n        <header className=\"text-center mb-12\">\r\n          <div className=\"flex justify-center mb-4\">\r\n            <Image\r\n              src=\"/practice/images/樱桃小丸子图片生成 (7).png\"\r\n              alt=\"小丸子\"\r\n              width={100}\r\n              height={100}\r\n              className=\"rounded-full\"\r\n            />\r\n          </div>\r\n          <h1 className=\"text-4xl font-bold text-[#FF6B6B] mb-4\">\r\n            小丸子的异步魔法课 - 第二课\r\n          </h1>\r\n          <p className=\"text-lg text-gray-600 max-w-2xl mx-auto\">\r\n            小丸子今天要继续教大家异步编程！让我们一起来看看小丸子最近写了什么有趣的故事吧~ (◕‿◕✿)\r\n          </p>\r\n        </header>\r\n\r\n        <section className=\"bg-white rounded-xl shadow-lg border border-pink-100 p-6 mb-8 max-w-3xl mx-auto\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <Image\r\n              src=\"/practice/images/樱桃小丸子图片生成 (8).png\"\r\n              alt=\"魔法棒\"\r\n              width={24}\r\n              height={24}\r\n              className=\"inline-block\"\r\n            />\r\n            <h2 className=\"text-xl font-semibold text-[#FF6B6B]\">异步编程进阶</h2>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div className=\"bg-pink-50 p-6 rounded-lg\">\r\n              <h3 className=\"text-[#FF6B6B] font-bold mb-2\">错误处理</h3>\r\n              <p className=\"text-gray-600\">\r\n                就像小丸子有时候会把作业弄错，我们也要学会处理程序的错误！\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-pink-50 p-6 rounded-lg\">\r\n              <h3 className=\"text-[#FF6B6B] font-bold mb-2\">异步链式调用</h3>\r\n              <p className=\"text-gray-600\">\r\n                就像小丸子完成一件事后再做下一件，程序也可以按顺序完成任务！\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-pink-50 p-6 rounded-lg\">\r\n              <h3 className=\"text-[#FF6B6B] font-bold mb-2\">状态管理</h3>\r\n              <p className=\"text-gray-600\">\r\n                就像小丸子记录自己的零花钱一样，程序也要记录重要的信息！\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"bg-white rounded-xl shadow-lg border border-pink-100 p-6 max-w-3xl mx-auto\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <Image\r\n              src=\"/practice/images/樱桃小丸子图片生成 (9).png\"\r\n              alt=\"魔法棒\"\r\n              width={24}\r\n              height={24}\r\n              className=\"inline-block\"\r\n            />\r\n            <h2 className=\"text-xl font-semibold text-[#FF6B6B]\">小丸子的最新故事</h2>\r\n          </div>\r\n          <div\r\n            id=\"demo\"\r\n            ref={demoRef}\r\n            className=\"text-center p-6 bg-pink-50 rounded-lg\"\r\n          >\r\n            {lastStoryDate ? (\r\n              <div>\r\n                <p className=\"text-gray-600 mb-2\">小丸子最近在这一天更新了故事：</p>\r\n                <p className=\"text-[#FF6B6B] text-xl font-mono\">{lastStoryDate}</p>\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-gray-500\">小丸子正在翻日记本...</p>\r\n            )}\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}