{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///D:/360MoveData/Users/12776/Desktop/nextdemo/blog-platform/src/app/practice/05-js-01/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { useState } from 'react';\r\n\r\ninterface RaceError extends Error {\r\n  message: string;\r\n}\r\n\r\nexport default function Page() {\r\n  const [showGame, setShowGame] = useState(false);\r\n  const [runners, setRunners] = useState([\r\n    { id: 1, name: '小丸子', position: 0, finished: false },\r\n    { id: 2, name: '小玉', position: 0, finished: false },\r\n    { id: 3, name: '花轮', position: 0, finished: false }\r\n  ]);\r\n  const [currentRunner, setCurrentRunner] = useState(0);\r\n  const [gameStarted, setGameStarted] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const trackLength = 300;\r\n\r\n  const runnerColors = {\r\n    '小丸子': '#FF6B6B',\r\n    '小玉': '#FFD93D',\r\n    '花轮': '#95E1D3'\r\n  };\r\n\r\n  const startRace = async () => {\r\n    setGameStarted(true);\r\n    setMessage('比赛开始！');\r\n    \r\n    try {\r\n      // 第一棒：小丸子\r\n      setMessage(`${runners[0].name}开始跑了！`);\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      setRunners(prev => prev.map(runner => \r\n        runner.id === 1 ? { ...runner, position: trackLength / 3, finished: true } : runner\r\n      ));\r\n      setCurrentRunner(1);\r\n\r\n      // 第二棒：小玉\r\n      setMessage(`${runners[1].name}接棒了！`);\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      setRunners(prev => prev.map(runner => \r\n        runner.id === 2 ? { ...runner, position: (trackLength / 3) * 2, finished: true } : runner\r\n      ));\r\n      setCurrentRunner(2);\r\n\r\n      // 第三棒：花轮\r\n      setMessage(`${runners[2].name}同学接到棒子了！`);\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      setRunners(prev => prev.map(runner => \r\n        runner.id === 3 ? { ...runner, position: trackLength, finished: true } : runner\r\n      ));\r\n      setCurrentRunner(3);\r\n\r\n      setMessage('比赛结束！大家都很棒！');\r\n    } catch (error) {\r\n      const raceError = error as RaceError;\r\n      setMessage(`哎呀，出了点小问题！${raceError.message || '请重新开始比赛'}`);\r\n      console.error('比赛出错：', raceError);\r\n    }\r\n  };\r\n\r\n  const resetRace = () => {\r\n    setRunners(runners.map(runner => ({ ...runner, position: 0, finished: false })));\r\n    setCurrentRunner(0);\r\n    setGameStarted(false);\r\n    setMessage('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#FFF5E6]\">\r\n      {/* 背景装饰 */}\r\n      <div className=\"fixed inset-0 pointer-events-none\">\r\n        <div className=\"absolute top-0 left-0 w-32 h-32\">\r\n          <Image\r\n            src=\"/practice/images/樱桃小丸子图片生成 (5).png\"\r\n            alt=\"装饰\"\r\n            width={128}\r\n            height={128}\r\n            className=\"opacity-20\"\r\n          />\r\n        </div>\r\n        <div className=\"absolute bottom-0 right-0 w-32 h-32\">\r\n          <Image\r\n            src=\"/practice/images/樱桃小丸子图片生成 (6).png\"\r\n            alt=\"装饰\"\r\n            width={128}\r\n            height={128}\r\n            className=\"opacity-20\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <main className=\"container mx-auto px-4 py-12\">\r\n        <div className=\"relative\">\r\n          <Link href=\"/\" className=\"absolute -top-8 left-0 flex items-center gap-2 text-[#FF6B6B] hover:text-[#FF8585] transition-colors\">\r\n            <span className=\"text-2xl\">←</span>\r\n            <span>回到小丸子的主页</span>\r\n          </Link>\r\n        </div>\r\n\r\n        <header className=\"text-center mb-12\">\r\n          <div className=\"flex justify-center mb-4\">\r\n            <Image\r\n              src=\"/practice/images/樱桃小丸子图片生成 (7).png\"\r\n              alt=\"小丸子\"\r\n              width={100}\r\n              height={100}\r\n              className=\"rounded-full\"\r\n            />\r\n          </div>\r\n          <h1 className=\"text-4xl font-bold text-[#FF6B6B] mb-4\">\r\n            小丸子的异步接力赛\r\n          </h1>\r\n          <p className=\"text-lg text-gray-600 max-w-2xl mx-auto\">\r\n            今天小丸子和朋友们要参加接力赛跑！让我们一起学习JavaScript的异步编程吧 (◕‿◕✿)\r\n          </p>\r\n        </header>\r\n\r\n        {!showGame ? (\r\n          <>\r\n            <div className=\"bg-white rounded-xl shadow-lg border border-pink-100 mb-8\">\r\n              <div className=\"p-6 border-b border-pink-100\">\r\n                <h3 className=\"text-xl font-semibold text-[#FF6B6B] flex items-center gap-2\">\r\n                  <Image\r\n                    src=\"/practice/images/樱桃小丸子图片生成 (8).png\"\r\n                    alt=\"魔法棒\"\r\n                    width={24}\r\n                    height={24}\r\n                    className=\"inline-block\"\r\n                  />\r\n                  异步编程知识\r\n                </h3>\r\n              </div>\r\n              <div className=\"p-8 space-y-6\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                  <div className=\"bg-pink-50 p-6 rounded-lg\">\r\n                    <h3 className=\"text-[#FF6B6B] font-bold mb-2\">Promise</h3>\r\n                    <p className=\"text-gray-600\">\r\n                      就像小丸子答应妈妈要好好学习一样，这是一个承诺呢！\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"bg-pink-50 p-6 rounded-lg\">\r\n                    <h3 className=\"text-[#FF6B6B] font-bold mb-2\">async/await</h3>\r\n                    <p className=\"text-gray-600\">\r\n                      就像小丸子等待花轮同学传递接力棒一样，要有耐心哦！\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"bg-pink-50 p-6 rounded-lg\">\r\n                    <h3 className=\"text-[#FF6B6B] font-bold mb-2\">错误处理</h3>\r\n                    <p className=\"text-gray-600\">\r\n                      就算跑步时摔倒了也没关系，爬起来继续跑就好啦！\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n              <button\r\n                onClick={() => setShowGame(true)}\r\n                className=\"bg-[#FF6B6B] text-white px-6 py-3 rounded-full text-lg font-semibold hover:bg-[#FF8585] transition-colors transform hover:scale-105 duration-200 flex items-center gap-2 mx-auto\"\r\n              >\r\n                <Image\r\n                  src=\"/practice/images/樱桃小丸子图片生成 (9).png\"\r\n                  alt=\"游戏\"\r\n                  width={24}\r\n                  height={24}\r\n                  className=\"inline-block\"\r\n                />\r\n                来玩接力赛跑游戏吧！\r\n              </button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"bg-white rounded-xl shadow-lg border border-pink-100 p-8\">\r\n            <div className=\"text-center mb-8\">\r\n              <h2 className=\"text-2xl font-bold text-[#FF6B6B] mb-4\">异步接力赛</h2>\r\n              <p className=\"text-gray-600 mb-2\">\r\n                看看小丸子和朋友们的接力赛跑吧！\r\n              </p>\r\n              <div className=\"text-[#FF6B6B] font-bold\">\r\n                {message}\r\n              </div>\r\n              {currentRunner > 0 && (\r\n                <div className=\"text-gray-600 mt-2\">\r\n                  当前跑步者：{runners[currentRunner - 1].name}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"space-y-8\">\r\n              {/* 跑道 */}\r\n              <div className=\"relative h-48 bg-[#E0F4FF] rounded-lg p-4\">\r\n                {runners.map((runner, index) => (\r\n                  <div key={runner.id} className=\"relative h-12 mb-4\">\r\n                    {/* 跑道背景 */}\r\n                    <div className=\"absolute inset-0 bg-gray-200 rounded-full\"></div>\r\n                    {/* 进度条 */}\r\n                    <div\r\n                      className=\"absolute h-full rounded-full transition-all duration-1000\"\r\n                      style={{\r\n                        width: `${(runner.position / trackLength) * 100}%`,\r\n                        backgroundColor: runnerColors[runner.name as keyof typeof runnerColors],\r\n                        opacity: 0.7\r\n                      }}\r\n                    ></div>\r\n                    {/* 跑步者 */}\r\n                    <div\r\n                      className=\"absolute top-1/2 -translate-y-1/2 transition-all duration-1000\"\r\n                      style={{ left: `${(runner.position / trackLength) * 100}%` }}\r\n                    >\r\n                      <Image\r\n                        src={`/practice/images/樱桃小丸子图片生成 (${10 + index}).png`}\r\n                        alt={runner.name}\r\n                        width={32}\r\n                        height={32}\r\n                        className=\"rounded-full\"\r\n                      />\r\n                    </div>\r\n                    {/* 名字标签 */}\r\n                    <div className=\"absolute left-2 top-1/2 -translate-y-1/2 font-bold text-gray-600\">\r\n                      {runner.name}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"text-center space-x-4\">\r\n                <button\r\n                  onClick={startRace}\r\n                  disabled={gameStarted}\r\n                  className={`px-6 py-2 rounded-full ${\r\n                    gameStarted\r\n                      ? 'bg-gray-400 cursor-not-allowed'\r\n                      : 'bg-[#FF6B6B] hover:bg-[#FF8585]'\r\n                  } text-white transition-colors`}\r\n                >\r\n                  开始比赛\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    resetRace();\r\n                    setShowGame(false);\r\n                  }}\r\n                  className=\"bg-[#FFD93D] text-white px-6 py-2 rounded-full hover:bg-[#FFE169] transition-colors\"\r\n                >\r\n                  返回学习\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}