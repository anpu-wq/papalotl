{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///D:/360MoveData/Users/12776/Desktop/nextdemo/blog-platform/src/app/practice/07-async-01/page.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\n\r\ninterface GitHubCommit {\r\n  commit: {\r\n    author: {\r\n      date: string;\r\n    };\r\n    message: string;\r\n  };\r\n}\r\n\r\nexport default function Page() {\r\n  const demoRef = useRef<HTMLDivElement>(null);\r\n  const [tableHtml, setTableHtml] = useState('');\r\n\r\n  useEffect(() => {\r\n    // 简单的延时示例\r\n    console.log('小丸子说：\"我要开始写作业了！\"');\r\n    setTimeout(() => {\r\n      console.log('小丸子说：\"休息一下吧~\"');\r\n    }, 2000);\r\n    console.log('小丸子说：\"先画一会儿漫画！\"');\r\n\r\n    // Promise示例\r\n    function getSnack() {\r\n      return new Promise<void>((resolve) => {\r\n        setTimeout(() => {\r\n          console.log('小丸子说：\"我找到章鱼烧了！\"');\r\n          resolve();\r\n        }, 1000);\r\n      });\r\n    }\r\n    getSnack().then(() => {\r\n      console.log('小丸子说：\"真好吃！\"');\r\n    });\r\n\r\n    // async/await示例\r\n    async function getHomework() {\r\n      await new Promise<void>((resolve) => {\r\n        setTimeout(() => {\r\n          console.log('小丸子说：\"作业写完了！\"');\r\n          resolve();\r\n        }, 1000);\r\n      });\r\n    }\r\n    (async () => {\r\n      await getHomework();\r\n      console.log('小丸子说：\"可以去玩了！\"');\r\n    })();\r\n\r\n    // 获取GitHub提交记录的示例\r\n    async function getMarukoStories() {\r\n      const url = 'https://api.github.com/repos/yangjh-xbmu/Web-develop/commits';\r\n      try {\r\n        const response = await fetch(url);\r\n        if (!response.ok) {\r\n          throw new Error('获取小丸子的故事失败了...');\r\n        }\r\n        const commits = await response.json() as GitHubCommit[];\r\n        // 提取每个提交的日期和消息\r\n        const stories = commits.map((commit) => ({\r\n          date: new Date(commit.commit.author.date).toLocaleDateString('zh-CN'),\r\n          message: commit.commit.message\r\n        }));\r\n\r\n        // 生成表格HTML\r\n        const tableRows = stories.map((story: { date: string; message: string }) => `\r\n          <tr class=\"border-b border-pink-100\">\r\n            <td class=\"py-2 px-4\">${story.date}</td>\r\n            <td class=\"py-2 px-4\">${story.message}</td>\r\n          </tr>\r\n        `).join('');\r\n\r\n        const html = `\r\n          <div class=\"overflow-x-auto\">\r\n            <table class=\"w-full text-left\">\r\n              <thead>\r\n                <tr class=\"bg-pink-50\">\r\n                  <th class=\"py-2 px-4 text-[#FF6B6B]\">日期</th>\r\n                  <th class=\"py-2 px-4 text-[#FF6B6B]\">小丸子的故事</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"text-gray-600\">\r\n                ${tableRows}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        `;\r\n\r\n        setTableHtml(html);\r\n      } catch (error) {\r\n        console.error('获取小丸子的故事失败了:', error);\r\n        setTableHtml('<p class=\"text-[#FF6B6B] text-center\">哎呀，小丸子的故事找不到了... (´;ω;｀)</p>');\r\n      }\r\n    }\r\n\r\n    getMarukoStories();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#FFF5E6]\">\r\n      {/* 背景装饰 */}\r\n      <div className=\"fixed inset-0 pointer-events-none\">\r\n        <div className=\"absolute top-0 left-0 w-32 h-32\">\r\n          <Image\r\n            src=\"/practice/images/樱桃小丸子图片生成 (5).png\"\r\n            alt=\"装饰\"\r\n            width={128}\r\n            height={128}\r\n            className=\"opacity-20\"\r\n          />\r\n        </div>\r\n        <div className=\"absolute bottom-0 right-0 w-32 h-32\">\r\n          <Image\r\n            src=\"/practice/images/樱桃小丸子图片生成 (6).png\"\r\n            alt=\"装饰\"\r\n            width={128}\r\n            height={128}\r\n            className=\"opacity-20\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <main className=\"container mx-auto px-4 py-12 relative z-10\">\r\n        <div className=\"relative\">\r\n          <Link href=\"/\" className=\"absolute -top-8 left-0 flex items-center gap-2 text-[#FF6B6B] hover:text-[#FF8585] transition-colors\">\r\n            <span className=\"text-2xl\">←</span>\r\n            <span>回到小丸子的主页</span>\r\n          </Link>\r\n        </div>\r\n\r\n        <header className=\"text-center mb-12\">\r\n          <div className=\"flex justify-center mb-4\">\r\n            <Image\r\n              src=\"/practice/images/樱桃小丸子图片生成 (7).png\"\r\n              alt=\"小丸子\"\r\n              width={100}\r\n              height={100}\r\n              className=\"rounded-full\"\r\n            />\r\n          </div>\r\n          <h1 className=\"text-4xl font-bold text-[#FF6B6B] mb-4\">\r\n            小丸子的异步魔法课\r\n          </h1>\r\n          <p className=\"text-lg text-gray-600 max-w-2xl mx-auto\">\r\n            今天小丸子要教大家异步编程！就像小丸子一边写作业一边想着要吃章鱼烧一样，我们也可以让程序做多件事情哦~ (◕‿◕✿)\r\n          </p>\r\n        </header>\r\n\r\n        <section className=\"bg-white rounded-xl shadow-lg border border-pink-100 p-6 mb-8 max-w-3xl mx-auto\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <Image\r\n              src=\"/practice/images/樱桃小丸子图片生成 (8).png\"\r\n              alt=\"魔法棒\"\r\n              width={24}\r\n              height={24}\r\n              className=\"inline-block\"\r\n            />\r\n            <h2 className=\"text-xl font-semibold text-[#FF6B6B]\">异步编程基础</h2>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div className=\"bg-pink-50 p-6 rounded-lg\">\r\n              <h3 className=\"text-[#FF6B6B] font-bold mb-2\">Promise</h3>\r\n              <p className=\"text-gray-600\">\r\n                就像小丸子答应妈妈要写完作业才能去玩，这就是一个承诺呢！\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-pink-50 p-6 rounded-lg\">\r\n              <h3 className=\"text-[#FF6B6B] font-bold mb-2\">async/await</h3>\r\n              <p className=\"text-gray-600\">\r\n                就像小丸子等待章鱼烧烤好一样，要有耐心等待结果哦！\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-pink-50 p-6 rounded-lg\">\r\n              <h3 className=\"text-[#FF6B6B] font-bold mb-2\">API调用</h3>\r\n              <p className=\"text-gray-600\">\r\n                就像小丸子去便利店买零食，要先和店员说想要什么呢！\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"bg-white rounded-xl shadow-lg border border-pink-100 p-6 max-w-3xl mx-auto\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <Image\r\n              src=\"/practice/images/樱桃小丸子图片生成 (9).png\"\r\n              alt=\"魔法棒\"\r\n              width={24}\r\n              height={24}\r\n              className=\"inline-block\"\r\n            />\r\n            <h2 className=\"text-xl font-semibold text-[#FF6B6B]\">小丸子的故事列表</h2>\r\n          </div>\r\n          <div id=\"demo\" ref={demoRef} className=\"mt-4\" dangerouslySetInnerHTML={{ __html: tableHtml || '<p class=\"text-center text-gray-500\">小丸子正在收集故事中...</p>' }} />\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}